{"ast":null,"code":"var _jsxFileName = \"/home/alonso/GitHub/RecetasMH/src/components/AddRecipe.jsx\";\nimport React, { useState } from \"react\";\nimport gql from \"graphql-tag\";\nimport { useMutation } from \"@apollo/react-hooks\";\nimport styled from \"styled-components\";\nimport { useRecoilState } from \"recoil\";\nimport { sessionState } from \"../recoil/atoms\";\nimport { OK, Error, Title } from \"../style/styles\";\nimport UploadFile from \"./UploadFile\";\nconst ADD_RECIPE_MUTATION = gql`\n    mutation addRecipe($userid: ID!, $token: String!, $title: String!, $description: String!, $steps: [StepInput!]!, $ingredients: [ID!]!, $mainImage: FileInput!) {\n        addRecipe(userid: $userid, token: $token, title: $title, description: $description, steps: $steps, ingredients: $ingredients, mainImage: $mainImage) {\n            title\n            steps {\n                description\n                image {\n                    mimetype\n                }\n            }\n            ingredients {\n                _id\n            }\n            mainImage {\n                mimetype\n            }\n        }\n    }\n`;\nexport default (() => {\n  const [session] = useRecoilState(sessionState);\n  const [addRecipe, {\n    data\n  }] = useMutation(ADD_RECIPE_MUTATION);\n\n  if (data) {\n    console.log(data.addRecipe);\n  }\n\n  let mainImage;\n  let inputTitle;\n  let inputDescription;\n  let steps = [{\n    description: null,\n    image: {\n      url: null,\n      mimetype: null,\n      encoding: null\n    }\n  }, {\n    description: null,\n    image: {\n      url: null,\n      mimetype: null,\n      encoding: null\n    }\n  }, {\n    description: null,\n    image: {\n      url: null,\n      mimetype: null,\n      encoding: null\n    }\n  }];\n  return /*#__PURE__*/React.createElement(AddRecipe, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 5\n    }\n  }, !session.token ? /*#__PURE__*/React.createElement(Error, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 25\n    }\n  }, \"El usuario no ha iniciado sesi\\xF3n correctamente\") : /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: e => {\n      e.preventDefault();\n      inputTitle = document.getElementById(\"inputTitle\").value;\n      inputDescription = document.getElementById(\"inputDescription\").value;\n      steps[0].description = document.getElementById(\"descriptionStep1\").value;\n      steps[1].description = document.getElementById(\"descriptionStep2\").value;\n      steps[2].description = document.getElementById(\"descriptionStep3\").value;\n      addRecipe({\n        variables: {\n          userid: session.userid,\n          token: session.token,\n          title: inputTitle,\n          description: inputDescription,\n          steps: steps,\n          ingredients: [\"5f0afe3d7375a5043ceb9cef\"],\n          mainImage: mainImage\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(UploadFile, {\n    mainImage: mainImage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }, \"T\\xEDtulo\"), /*#__PURE__*/React.createElement(Input, {\n    required: true,\n    id: \"inputTitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }, \"Descripci\\xF3n\"), /*#__PURE__*/React.createElement(TextareaDescription, {\n    required: true,\n    type: \"text\",\n    id: \"inputDescription\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }\n  }, \"Pasos\"), /*#__PURE__*/React.createElement(Step, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Textarea, {\n    required: true,\n    type: \"text\",\n    id: \"descriptionStep1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(UploadFile, {\n    stepImage: steps[0].image,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Step, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Textarea, {\n    required: true,\n    type: \"text\",\n    id: \"descriptionStep2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(UploadFile, {\n    stepImage: steps[1].image,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Step, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Textarea, {\n    required: true,\n    type: \"text\",\n    id: \"descriptionStep3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(UploadFile, {\n    stepImage: steps[2].image,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 11\n    }\n  }, \"A\\xF1adir Receta\")));\n});\nconst AddRecipe = styled.div`\n  display: flex;\n  justify-content: center;\n`;\nconst Input = styled.input`\n  border: 1px solid #333;\n  height: 30px;\n  width: 100%;\n  margin-bottom: 1em;\n`;\nconst Step = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding-left: 1em;\n  margin-top: 1em;\n  border: 1px solid #333;\n`;\nconst Textarea = styled.textarea`\n  display: flex;\n  width: 300px;\n  height: 100px;\n  margin-bottom: 1em;\n`;\nconst TextareaDescription = styled.textarea`\n  display: flex;\n  width: 100%;\n  height: 100px;\n  margin-bottom: 1em;\n`;\nconst Button = styled.button`\n  color: black;\n  font-weight: bold;\n  height: 30px;\n  width: 500px;\n  border: 1px solid #333;\n  &:hover {\n    background-color: #bbbbbb;\n    cursor: pointer;\n  }\n`;","map":{"version":3,"sources":["/home/alonso/GitHub/RecetasMH/src/components/AddRecipe.jsx"],"names":["React","useState","gql","useMutation","styled","useRecoilState","sessionState","OK","Error","Title","UploadFile","ADD_RECIPE_MUTATION","session","addRecipe","data","console","log","mainImage","inputTitle","inputDescription","steps","description","image","url","mimetype","encoding","token","e","preventDefault","document","getElementById","value","variables","userid","title","ingredients","AddRecipe","div","Input","input","Step","Textarea","textarea","TextareaDescription","Button","button"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,GAAP,MAAgB,aAAhB;AACA,SAASC,WAAT,QAA4B,qBAA5B;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,cAAT,QAA+B,QAA/B;AACA,SAASC,YAAT,QAA6B,iBAA7B;AACA,SAASC,EAAT,EAAaC,KAAb,EAAoBC,KAApB,QAAiC,iBAAjC;AACA,OAAOC,UAAP,MAAuB,cAAvB;AAEA,MAAMC,mBAAmB,GAAGT,GAAI;;;;;;;;;;;;;;;;;;CAAhC;AAoBA,gBAAe,MAAM;AACnB,QAAM,CAACU,OAAD,IAAYP,cAAc,CAACC,YAAD,CAAhC;AAEA,QAAM,CAACO,SAAD,EAAY;AAAEC,IAAAA;AAAF,GAAZ,IAAwBX,WAAW,CAACQ,mBAAD,CAAzC;;AAEA,MAAIG,IAAJ,EAAU;AACRC,IAAAA,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACD,SAAjB;AACD;;AAED,MAAII,SAAJ;AACA,MAAIC,UAAJ;AACA,MAAIC,gBAAJ;AACA,MAAIC,KAAK,GAAG,CACV;AACEC,IAAAA,WAAW,EAAE,IADf;AAEEC,IAAAA,KAAK,EAAE;AACLC,MAAAA,GAAG,EAAE,IADA;AAELC,MAAAA,QAAQ,EAAE,IAFL;AAGLC,MAAAA,QAAQ,EAAE;AAHL;AAFT,GADU,EASV;AACEJ,IAAAA,WAAW,EAAE,IADf;AAEEC,IAAAA,KAAK,EAAE;AACLC,MAAAA,GAAG,EAAE,IADA;AAELC,MAAAA,QAAQ,EAAE,IAFL;AAGLC,MAAAA,QAAQ,EAAE;AAHL;AAFT,GATU,EAiBV;AACEJ,IAAAA,WAAW,EAAE,IADf;AAEEC,IAAAA,KAAK,EAAE;AACLC,MAAAA,GAAG,EAAE,IADA;AAELC,MAAAA,QAAQ,EAAE,IAFL;AAGLC,MAAAA,QAAQ,EAAE;AAHL;AAFT,GAjBU,CAAZ;AA2BA,sBACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,CAACb,OAAO,CAACc,KAAT,gBAAiB,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yDAAjB,gBACC;AACA,IAAA,QAAQ,EAAKC,CAAC,IAAI;AACdA,MAAAA,CAAC,CAACC,cAAF;AACAV,MAAAA,UAAU,GAAGW,QAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsCC,KAAnD;AACAZ,MAAAA,gBAAgB,GAAGU,QAAQ,CAACC,cAAT,CAAwB,kBAAxB,EAA4CC,KAA/D;AAEAX,MAAAA,KAAK,CAAC,CAAD,CAAL,CAASC,WAAT,GAAuBQ,QAAQ,CAACC,cAAT,CAAwB,kBAAxB,EAA4CC,KAAnE;AACAX,MAAAA,KAAK,CAAC,CAAD,CAAL,CAASC,WAAT,GAAuBQ,QAAQ,CAACC,cAAT,CAAwB,kBAAxB,EAA4CC,KAAnE;AACAX,MAAAA,KAAK,CAAC,CAAD,CAAL,CAASC,WAAT,GAAuBQ,QAAQ,CAACC,cAAT,CAAwB,kBAAxB,EAA4CC,KAAnE;AAEAlB,MAAAA,SAAS,CAAC;AAAEmB,QAAAA,SAAS,EAAE;AAAEC,UAAAA,MAAM,EAAErB,OAAO,CAACqB,MAAlB;AAA0BP,UAAAA,KAAK,EAAEd,OAAO,CAACc,KAAzC;AAAgDQ,UAAAA,KAAK,EAAEhB,UAAvD;AAAmEG,UAAAA,WAAW,EAAEF,gBAAhF;AACrBC,UAAAA,KAAK,EAAEA,KADc;AACPe,UAAAA,WAAW,EAAE,CAAC,0BAAD,CADN;AACoClB,UAAAA,SAAS,EAAEA;AAD/C;AAAb,OAAD,CAAT;AAED,KAZH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAcE,oBAAC,UAAD;AAAY,IAAA,SAAS,EAAEA,SAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAdF,eAgBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,eAEE,oBAAC,KAAD;AAAO,IAAA,QAAQ,MAAf;AAAgB,IAAA,EAAE,EAAC,YAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAhBF,eAqBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE,oBAAC,mBAAD;AAAqB,IAAA,QAAQ,MAA7B;AAA8B,IAAA,IAAI,EAAC,MAAnC;AAA0C,IAAA,EAAE,EAAC,kBAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CArBF,eA0BE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,eAEE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,QAAD;AAAU,IAAA,QAAQ,MAAlB;AAAmB,IAAA,IAAI,EAAC,MAAxB;AAA+B,IAAA,EAAE,EAAC,kBAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE,oBAAC,UAAD;AAAY,IAAA,SAAS,EAAEG,KAAK,CAAC,CAAD,CAAL,CAASE,KAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAFF,eAOE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,QAAD;AAAU,IAAA,QAAQ,MAAlB;AAAmB,IAAA,IAAI,EAAC,MAAxB;AAA+B,IAAA,EAAE,EAAC,kBAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE,oBAAC,UAAD;AAAY,IAAA,SAAS,EAAEF,KAAK,CAAC,CAAD,CAAL,CAASE,KAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAPF,eAYE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,QAAD;AAAU,IAAA,QAAQ,MAAlB;AAAmB,IAAA,IAAI,EAAC,MAAxB;AAA+B,IAAA,EAAE,EAAC,kBAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE,oBAAC,UAAD;AAAY,IAAA,SAAS,EAAEF,KAAK,CAAC,CAAD,CAAL,CAASE,KAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAZF,CA1BF,eA4CE,oBAAC,MAAD;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBA5CF,CAFJ,CADF;AAqDD,CA5FD;AA8FA,MAAMc,SAAS,GAAGhC,MAAM,CAACiC,GAAI;;;CAA7B;AAKA,MAAMC,KAAK,GAAGlC,MAAM,CAACmC,KAAM;;;;;CAA3B;AAOA,MAAMC,IAAI,GAAGpC,MAAM,CAACiC,GAAI;;;;;;;CAAxB;AASA,MAAMI,QAAQ,GAAGrC,MAAM,CAACsC,QAAS;;;;;CAAjC;AAOA,MAAMC,mBAAmB,GAAGvC,MAAM,CAACsC,QAAS;;;;;CAA5C;AAOA,MAAME,MAAM,GAAGxC,MAAM,CAACyC,MAAO;;;;;;;;;;CAA7B","sourcesContent":["import React, { useState } from \"react\";\nimport gql from \"graphql-tag\";\nimport { useMutation } from \"@apollo/react-hooks\";\nimport styled from \"styled-components\";\nimport { useRecoilState } from \"recoil\";\nimport { sessionState } from \"../recoil/atoms\";\nimport { OK, Error, Title } from \"../style/styles\";\nimport UploadFile from \"./UploadFile\";\n\nconst ADD_RECIPE_MUTATION = gql`\n    mutation addRecipe($userid: ID!, $token: String!, $title: String!, $description: String!, $steps: [StepInput!]!, $ingredients: [ID!]!, $mainImage: FileInput!) {\n        addRecipe(userid: $userid, token: $token, title: $title, description: $description, steps: $steps, ingredients: $ingredients, mainImage: $mainImage) {\n            title\n            steps {\n                description\n                image {\n                    mimetype\n                }\n            }\n            ingredients {\n                _id\n            }\n            mainImage {\n                mimetype\n            }\n        }\n    }\n`;\n\nexport default () => {\n  const [session] = useRecoilState(sessionState);\n\n  const [addRecipe, { data }] = useMutation(ADD_RECIPE_MUTATION)\n\n  if (data) {\n    console.log(data.addRecipe);\n  }\n\n  let mainImage;\n  let inputTitle;\n  let inputDescription;\n  let steps = [\n    {\n      description: null,\n      image: {\n        url: null,\n        mimetype: null,\n        encoding: null\n      }\n    },\n    {\n      description: null,\n      image: {\n        url: null,\n        mimetype: null,\n        encoding: null\n      }\n    },\n    {\n      description: null,\n      image: {\n        url: null,\n        mimetype: null,\n        encoding: null\n      }\n    }\n  ];\n\n  return (\n    <AddRecipe>\n      {!session.token ? <Error>El usuario no ha iniciado sesión correctamente</Error> : \n        <form\n        onSubmit = { e => {\n            e.preventDefault();\n            inputTitle = document.getElementById(\"inputTitle\").value;\n            inputDescription = document.getElementById(\"inputDescription\").value;\n\n            steps[0].description = document.getElementById(\"descriptionStep1\").value;\n            steps[1].description = document.getElementById(\"descriptionStep2\").value;\n            steps[2].description = document.getElementById(\"descriptionStep3\").value;\n\n            addRecipe({ variables: { userid: session.userid, token: session.token, title: inputTitle, description: inputDescription, \n              steps: steps, ingredients: [\"5f0afe3d7375a5043ceb9cef\"], mainImage: mainImage }});\n          }}\n        >\n          <UploadFile mainImage={mainImage}/>\n\n          <div>\n            <div>Título</div>\n            <Input required id=\"inputTitle\"/>\n          </div>\n\n          <div>\n            <div>Descripción</div>\n            <TextareaDescription required type=\"text\" id=\"inputDescription\" />\n          </div>\n\n          <div>\n            <div>Pasos</div>\n            <Step>\n              <Textarea required type=\"text\" id=\"descriptionStep1\"/>\n              <UploadFile stepImage={steps[0].image}/>\n            </Step>\n\n            <Step>\n              <Textarea required type=\"text\" id=\"descriptionStep2\"/>\n              <UploadFile stepImage={steps[1].image}/>\n            </Step>\n\n            <Step>\n              <Textarea required type=\"text\" id=\"descriptionStep3\"/>\n              <UploadFile stepImage={steps[2].image}/>\n            </Step>\n          </div>\n\n          <Button type=\"submit\">Añadir Receta</Button>\n\n        </form>\n      }\n    </AddRecipe>\n  );\n};\n\nconst AddRecipe = styled.div`\n  display: flex;\n  justify-content: center;\n`;\n\nconst Input = styled.input`\n  border: 1px solid #333;\n  height: 30px;\n  width: 100%;\n  margin-bottom: 1em;\n`;\n\nconst Step = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding-left: 1em;\n  margin-top: 1em;\n  border: 1px solid #333;\n`;\n\nconst Textarea = styled.textarea`\n  display: flex;\n  width: 300px;\n  height: 100px;\n  margin-bottom: 1em;\n`;\n\nconst TextareaDescription = styled.textarea`\n  display: flex;\n  width: 100%;\n  height: 100px;\n  margin-bottom: 1em;\n`;\n\nconst Button = styled.button`\n  color: black;\n  font-weight: bold;\n  height: 30px;\n  width: 500px;\n  border: 1px solid #333;\n  &:hover {\n    background-color: #bbbbbb;\n    cursor: pointer;\n  }\n`;"]},"metadata":{},"sourceType":"module"}