{"ast":null,"code":"var _jsxFileName = \"/home/alonso/GitHub/RecetasMH/src/components/AddRecipe.jsx\";\nimport React, { useState } from \"react\";\nimport gql from \"graphql-tag\";\nimport { useMutation } from \"@apollo/react-hooks\";\nimport styled from \"styled-components\";\nimport { useRecoilState } from \"recoil\";\nimport { sessionState, imagesState } from \"../recoil/atoms\";\nimport { OK, Error, Title } from \"../style/styles\";\nimport UploadFile from \"./UploadFile\";\nconst ADD_RECIPE_MUTATION = gql`\n    mutation addRecipe($userid: ID!, $token: String!, $title: String!, $description: String!, $steps: [StepInput!]!, $ingredients: [ID!]!, $mainImage: FileInput!) {\n        addRecipe(userid: $userid, token: $token, title: $title, description: $description, steps: $steps, ingredients: $ingredients, mainImage: $mainImage) {\n            title\n            steps {\n                description\n                image {\n                    mimetype\n                }\n            }\n            ingredients {\n                _id\n            }\n            mainImage {\n                mimetype\n            }\n        }\n    }\n`;\nexport default (() => {\n  const [session] = useRecoilState(sessionState);\n  const [images] = useRecoilState(imagesState);\n  const [addRecipe, {\n    data\n  }] = useMutation(ADD_RECIPE_MUTATION, {// refetchQueries: [{ query: INGREDIENTS }],\n    // onError(err) {\n    //     setError(err.message);\n    // }\n  });\n\n  if (data) {\n    console.log(data.addRecipe);\n  }\n\n  let inputTitle;\n  let inputDescription;\n  let steps = [];\n  return /*#__PURE__*/React.createElement(AddRecipe, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"ModuleAddIngredient\",\n    onSubmit: e => {\n      e.preventDefault();\n      inputTitle = document.getElementById(\"inputTitle\").value;\n      steps = [{\n        description: document.getElementById(\"descriptionStep1\").value,\n        image: {\n          url: \"url\",\n          mimetype: \"mimetype\",\n          encoding: \"encoding\"\n        }\n      }, {\n        description: document.getElementById(\"descriptionStep2\").value,\n        image: {\n          url: \"url\",\n          mimetype: \"mimetype\",\n          encoding: \"encoding\"\n        }\n      }, {\n        description: document.getElementById(\"descriptionStep3\").value,\n        image: {\n          url: \"url\",\n          mimetype: \"mimetype\",\n          encoding: \"encoding\"\n        }\n      }];\n      inputDescription = document.getElementById(\"inputDescription\").value;\n      addRecipe({\n        variables: {\n          userid: session.userid,\n          token: session.token,\n          title: inputTitle,\n          description: inputDescription,\n          steps: steps,\n          ingredients: [\"5f0afe3d7375a5043ceb9cef\"],\n          mainImage: images.mainImage\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(UploadFile, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }, \"T\\xEDtulo\"), /*#__PURE__*/React.createElement(Input, {\n    required: true,\n    id: \"inputTitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 11\n    }\n  }, \"Descripci\\xF3n\"), /*#__PURE__*/React.createElement(TextareaDescription, {\n    required: true,\n    type: \"text\",\n    id: \"inputDescription\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }, \"Pasos\"), /*#__PURE__*/React.createElement(Step, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Textarea, {\n    required: true,\n    type: \"text\",\n    id: \"descriptionStep1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(UploadFile, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Step, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Textarea, {\n    required: true,\n    type: \"text\",\n    id: \"descriptionStep2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(UploadFile, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Step, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Textarea, {\n    required: true,\n    type: \"text\",\n    id: \"descriptionStep3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(UploadFile, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }, \"A\\xF1adir Receta\")));\n});\nconst AddRecipe = styled.div`\n  display: flex;\n  justify-content: center;\n`;\nconst Input = styled.input`\n  border: 1px solid #333;\n  height: 30px;\n  width: 100%;\n  margin-bottom: 1em;\n`;\nconst Step = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding-left: 1em;\n  margin-top: 1em;\n  border: 1px solid #333;\n`;\nconst Textarea = styled.textarea`\n  display: flex;\n  width: 300px;\n  height: 100px;\n  margin-bottom: 1em;\n`;\nconst TextareaDescription = styled.textarea`\n  display: flex;\n  width: 100%;\n  height: 100px;\n  margin-bottom: 1em;\n`;","map":{"version":3,"sources":["/home/alonso/GitHub/RecetasMH/src/components/AddRecipe.jsx"],"names":["React","useState","gql","useMutation","styled","useRecoilState","sessionState","imagesState","OK","Error","Title","UploadFile","ADD_RECIPE_MUTATION","session","images","addRecipe","data","console","log","inputTitle","inputDescription","steps","e","preventDefault","document","getElementById","value","description","image","url","mimetype","encoding","variables","userid","token","title","ingredients","mainImage","AddRecipe","div","Input","input","Step","Textarea","textarea","TextareaDescription"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport gql from \"graphql-tag\";\nimport { useMutation } from \"@apollo/react-hooks\";\nimport styled from \"styled-components\";\nimport { useRecoilState } from \"recoil\";\nimport { sessionState, imagesState } from \"../recoil/atoms\";\nimport { OK, Error, Title } from \"../style/styles\";\nimport UploadFile from \"./UploadFile\";\n\nconst ADD_RECIPE_MUTATION = gql`\n    mutation addRecipe($userid: ID!, $token: String!, $title: String!, $description: String!, $steps: [StepInput!]!, $ingredients: [ID!]!, $mainImage: FileInput!) {\n        addRecipe(userid: $userid, token: $token, title: $title, description: $description, steps: $steps, ingredients: $ingredients, mainImage: $mainImage) {\n            title\n            steps {\n                description\n                image {\n                    mimetype\n                }\n            }\n            ingredients {\n                _id\n            }\n            mainImage {\n                mimetype\n            }\n        }\n    }\n`;\n\nexport default () => {\n  const [session] = useRecoilState(sessionState);\n  const [images] = useRecoilState(imagesState);\n\n  const [addRecipe, { data }] = useMutation(ADD_RECIPE_MUTATION, {\n    // refetchQueries: [{ query: INGREDIENTS }],\n\n    // onError(err) {\n    //     setError(err.message);\n    // }\n  })\n\n  if (data) {\n    console.log(data.addRecipe);\n  }\n\n  let inputTitle;\n  let inputDescription;\n  let steps = [];\n\n  return (\n    <AddRecipe>\n      <form className=\"ModuleAddIngredient\"\n        onSubmit = { e => {\n            e.preventDefault();\n            inputTitle = document.getElementById(\"inputTitle\").value;\n            steps = [\n              {\n                description: document.getElementById(\"descriptionStep1\").value,\n                image: {url: \"url\", mimetype: \"mimetype\", encoding: \"encoding\"}\n              },\n              {\n                description: document.getElementById(\"descriptionStep2\").value,\n                image: {url: \"url\", mimetype: \"mimetype\", encoding: \"encoding\"}\n              },\n              {\n                description: document.getElementById(\"descriptionStep3\").value,\n                image: {url: \"url\", mimetype: \"mimetype\", encoding: \"encoding\"}\n              }\n            ]\n            inputDescription = document.getElementById(\"inputDescription\").value;\n            addRecipe({ variables: { userid: session.userid, token: session.token, title: inputTitle, description: inputDescription, \n              steps: steps, ingredients: [\"5f0afe3d7375a5043ceb9cef\"], mainImage: images.mainImage }});\n        }}\n      >\n        <UploadFile />\n\n        <div>\n          <div>Título</div>\n          <Input required id=\"inputTitle\"/>\n        </div>\n\n        <div>\n          <div>Descripción</div>\n          <TextareaDescription required type=\"text\" id=\"inputDescription\" />\n        </div>\n\n        <div>\n          <div>Pasos</div>\n          <Step>\n            <Textarea required type=\"text\" id=\"descriptionStep1\"/>\n            <UploadFile />\n          </Step>\n\n          <Step>\n            <Textarea required type=\"text\" id=\"descriptionStep2\"/>\n            <UploadFile />\n          </Step>\n\n          <Step>\n            <Textarea required type=\"text\" id=\"descriptionStep3\"/>\n            <UploadFile />\n          </Step>\n        </div>\n\n        <button type=\"submit\">Añadir Receta</button>\n\n      </form>\n    </AddRecipe>\n  );\n};\n\nconst AddRecipe = styled.div`\n  display: flex;\n  justify-content: center;\n`;\n\nconst Input = styled.input`\n  border: 1px solid #333;\n  height: 30px;\n  width: 100%;\n  margin-bottom: 1em;\n`;\n\nconst Step = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding-left: 1em;\n  margin-top: 1em;\n  border: 1px solid #333;\n`;\n\nconst Textarea = styled.textarea`\n  display: flex;\n  width: 300px;\n  height: 100px;\n  margin-bottom: 1em;\n`;\n\nconst TextareaDescription = styled.textarea`\n  display: flex;\n  width: 100%;\n  height: 100px;\n  margin-bottom: 1em;\n`;"]},"metadata":{},"sourceType":"module"}